# 儿童学习计划管理系统需求文档

## 1. 项目概述

### 1.1 项目背景
为了更好地管理和激励孩子的学习，需要一个系统来追踪学习任务的完成情况，并实现任务与奖励的自动关联。系统将帮助家长建立规则、记录完成情况，并自动计算相应的奖励。

### 1.2 项目目标
- 建立清晰的任务-奖励关联机制
- 自动化追踪任务完成情况
- 提供奖励时间/额度的管理
- 生成定期报告以了解学习情况

## 2. 核心功能模块

### 2.1 规则管理
- 创建任务-奖励规则
  - 定义任务类型（如：英语阅读、考试成绩等）
  - 设置奖励类型（如：看电视时间、现金奖励等）
  - 配置任务完成条件和对应奖励额度
- 修改现有规则
- 停用/启用规则

### 2.2 任务记录
- 记录日常任务完成情况
- 支持简单文本输入记录（如："小明完成了英语阅读"）
- 记录特殊成就（如：考试成绩）
- 自动识别任务类型并关联相应规则

### 2.3 奖励管理
- 自动计算并累加奖励（时间/金额）
- 记录奖励使用情况（如：看电视30分钟）
- 自动扣除已使用的奖励额度
- 显示当前可用奖励余额

### 2.4 统计分析
- 周报表生成
  - 本周完成的任务清单
  - 获得的奖励统计
  - 使用的奖励统计
  - 剩余奖励余额
- 月度分析报告
- 学习趋势分析

## 3. 详细功能点

### 3.1 规则配置功能
1. 任务规则设置
   - 任务名称
   - 任务类型（日常任务/成就任务）
   - 完成条件
   - 识别关键词

2. 奖励规则设置
   - 奖励类型（时间/金额）
   - 奖励数量
   - 有效期限（可选）

### 3.2 任务记录功能
1. 文本识别记录
   - 支持的格式："[姓名]完成了[任务名称]"
   - 自动解析并匹配相应规则
   - 即时计算奖励

2. 成绩记录
   - 考试科目
   - 分数
   - 对应奖励计算

### 3.3 奖励管理功能
1. 奖励额度
   - 显示各类奖励的当前余额
   - 奖励获得记录
   - 奖励使用记录

2. 奖励使用
   - 记录使用类型
   - 使用数量
   - 自动扣除余额

### 3.4 报表功能
1. 周报表
   - 任务完成情况统计
   - 奖励获得统计
   - 奖励使用情况
   - 剩余奖励统计

2. 月度报告
   - 月度任务完成趋势
   - 奖励获得与使用分析
   - 学习情况总结

## 4. 数据模型设计

### 4.1 核心实体
1. 规则表
   - 规则ID
   - 任务类型
   - 任务描述
   - 奖励类型
   - 奖励数量
   - 状态（启用/停用）
   - 创建时间
   - 更新时间

2. 任务记录表
   - 记录ID
   - 规则ID（关联规则）
   - 完成时间
   - 完成情况描述
   - 获得的奖励
   - 记录时间

3. 奖励账户表
   - 账户ID
   - 奖励类型
   - 当前余额
   - 更新时间

4. 奖励使用记录表
   - 记录ID
   - 奖励类型
   - 使用数量
   - 使用时间
   - 使用描述

## 5. 交互流程

### 5.1 任务记录流程
1. 用户输入任务完成记录
2. 系统解析文本内容
3. 匹配相应规则
4. 计算奖励额度
5. 更新奖励账户
6. 返回确认信息

### 5.2 奖励使用流程
1. 用户记录奖励使用情况
2. 系统验证奖励余额
3. 扣除使用的奖励
4. 更新奖励账户
5. 记录使用明细

### 5.3 报表生成流程
1. 定期（周/月）自动触发
2. 收集期间内的任务记录
3. 统计奖励获得和使用情况
4. 生成报表
5. 发送或展示报表

## 6. 实现建议

### 6.1 技术选择
- 后端：Node.js + Express
- 数据库：SQLite（适合单机部署）
- 前端：Vue.js（轻量级Web界面）

### 6.2 部署方式
- 本地部署
- 单机运行
- 数据本地存储

### 6.3 扩展建议
- 支持多个孩子的账户管理
- 添加家长监控面板
- 集成微信消息通知
- 支持导出数据备份

## 7. 项目分期

### 7.1 第一期（基础功能）
- 规则管理基本功能
- 文本任务记录
- 基础奖励计算
- 简单的奖励使用记录

### 7.2 第二期（完善功能）
- 完整的报表功能
- 更丰富的规则配置
- 数据导出功能
- 多账户支持

### 7.3 第三期（扩展功能）
- 微信集成
- 数据分析和可视化
- 自动提醒功能
- 家长监控面板
